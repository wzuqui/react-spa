import{T as tt,e as u,$ as l,B as et,a as p,m as E,h as z,g as it,d as x,b as nt,c as ot,f as P,i as T,j as q,F as st,k as m,C as at,l as f,n as _,P as rt,G as U,o as lt,p as ut,q as V,s as pt,r as b,W as ht,t as w,u as A,D as ct,v as dt,A as _t,w as L,x as v,y as F,z as S,E as k,H as Q,I as ft,J as mt,K as vt,L as gt,M as Ct,N as Et,O as St,Q as O,R as It,S as bt,U as yt,V as Ot,X as R,Y as Tt,Z as Dt,_ as xt,a0 as H,a1 as wt,a2 as Bt,a3 as Pt,a4 as Vt,a5 as At,a6 as Lt,a7 as D,a8 as C,a9 as Ft,aa as y}from"./index-7c730c9e.js";var r={},kt="dx-dropdowneditor-button",Rt="dx-dropdowneditor-button-visible",Ht="dxDropDownEditor-selectLabel";class $t extends tt{constructor(e,i,n){super(e,i,n),this.currentTemplate=null}_attachEvents(e){var{editor:i}=this;e.option("onClick",n=>{!i.option("openOnFieldClick")&&i._openHandler(n)}),u.on(e.$element(),"mousedown",n=>{i.$element().is(".dx-state-focused")&&n.preventDefault()})}_create(){var{editor:e}=this,i=l("<div>"),n=this._getOptions();this._addToContainer(i);var o=e._createComponent(i,et,p({},n,{elementAttr:{"aria-label":E.format(Ht)}}));return this._legacyRender(e.$element(),i,n.visible),{$element:i,instance:o}}_getOptions(){var{editor:e}=this,i=this._isVisible(),n=e.option("readOnly"),o={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:n,visible:i};return this._addTemplate(o),o}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,i,n){e.toggleClass(Rt,n),i&&i.removeClass("dx-button").addClass(kt)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var e=super.update();if(e){var{editor:i,instance:n}=this,o=i.$element(),a=this._getOptions();n==null||n.option(a),this._legacyRender(o,n==null?void 0:n.$element(),a.visible)}}}var $=function(t){if(z())return it(t)},Nt=function(t){return t===null&&(t=void 0),typeof t=="function"&&(t=t()),t},Mt="dx-dropdowneditor",N="dx-dropdowneditor-input-wrapper",Wt="dx-dropdowneditor-icon",I="dx-dropdowneditor-overlay",Kt="dx-dropdowneditor-overlay-flipped",Gt="dx-dropdowneditor-active",jt="dx-dropdowneditor-field-clickable",zt="dx-dropdowneditor-field-template-wrapper",M=x.current().platform==="ios",X=nt.inherit({_supportedKeys:function(){return p({},this.callBase(),{tab:function(t){if(this.option("opened")){if(this.option("applyValueMode")==="instantly"){this.close();return}var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&u.trigger(e,"focus"),t.preventDefault()}},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!A(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this.close(),!1):!0},downArrow:function(t){return!A(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this._validatedOpening(),!1):!0},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:$t}])},_getDefaultOptions:function(){return p(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:E.format("OK"),cancelButtonText:E.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=ot(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e=t.platform==="generic";return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+N).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var{my:e,at:i}=this._getDefaultPopupPosition(t),n=this.option("popupPosition");this.option("popupPosition",p({},n,{my:e,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(Mt),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(l("<div>").addClass(N)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var i;this._fieldRenderQueueLength=((i=this._fieldRenderQueueLength)!==null&&i!==void 0?i:0)+1;var n=P(this._input()),o=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),o.empty();var a=l("<div>").addClass(zt).appendTo(o);t.render({model:e,container:T(a),onRendered:()=>{if(this._fieldRenderQueueLength--,this._fieldRenderQueueLength===0){var h=this._input();if(!h.length)throw q.Error("E1010");this._integrateInput(),n&&u.trigger(h,"focus")}}}),this._attachWrapperContent(o)},_detachWrapperContent(){var t,e,i,n=this.option("useHiddenSubmitElement");n&&((t=this._$submitElement)===null||t===void 0||t.detach());var o=(e=this._$beforeButtonsContainer)===null||e===void 0?void 0:e[0].parentNode,a=(i=this._$afterButtonsContainer)===null||i===void 0?void 0:i[0].parentNode;o==null||o.removeChild(this._$beforeButtonsContainer[0]),a==null||a.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(t){var e,i=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),i&&((e=this._$submitElement)===null||e===void 0||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){u.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new st(function(t){var e=l("<div>").addClass(Wt);l(t.container).append(e)})}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=m(at,this.NAME),i=this.option("openOnFieldClick");u.off(t,e),u.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass(jt,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){M&&(this._detachFocusOutEvents(),u.on(this._inputWrapper(),m("focusout",this.NAME),t=>{var e=t.relatedTarget,i=this.content?l(this.content()).closest("."+I):this._$popup;if(e&&this.option("opened")){var n=l(e).closest("."+I,i).length===0;n&&this.close()}}))},_detachFocusOutEvents:function(){M&&u.off(this._inputWrapper(),m("focusout",this.NAME))},_getInputClickHandler:function(t){return t?e=>{this._executeOpenAction(e)}:e=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!P(this._input())&&(this._resetCaretPosition(),u.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this._input().get(0);if(e){var{value:i}=e,n=f(i)&&(t||this._isEditable())?i.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_getControlsAria(){return this._popup&&this._popupContentId},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(Gt,t),this._setPopupOption("visible",t);var e={expanded:t,controls:this._getControlsAria()};this.setAria(e),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=l("<div>").addClass(I).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:_,_renderPopup:function(){var t=p(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,rt,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(t){this._popupContentId="dx-"+new U,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:_,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:p(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>$(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:t=>this._closeOutsideDropDownHandler(t),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_wrapperClassExternal:I}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?t=>{this._popupInitializedAction({popup:t.component})}:null},_dimensionChanged:function(){var t=Nt(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>$(this.$element()))},_popupPositionedHandler:function(t){var{labelMode:e,stylingMode:i}=this.option(),n=this._popup.$overlayContent(),o=t.position.v.flip,a=e!=="hidden"&&i==="outlined";if(t.position&&n.toggleClass(Kt,o),o&&a&&this._label.isVisible()){var h=this._label.$element();lt(n,{top:ut(n).top-parseInt(h.css("fontSize"))})}},_popupShowingHandler:_,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var t;this._closeAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var t=this.option("validationMessagePosition");if(t!=="auto")return t;var e="bottom";if(this._popup&&this._popup.option("visible")){var{top:i}=V.setup(this.$element()),{top:n}=V.setup(this._popup.$content());e=i+this.option("popupPosition").offset.v>n?"bottom":"top"}return e},_closeOutsideDropDownHandler:function(t){var{target:e}=t,i=l(e),n=this.getButton("dropDown"),o=n&&n.$element(),a=!!i.closest(this.$element()).length,h=!!i.closest(o).length,g=!a&&!h;return g},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=l(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(u.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){u.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),i=t;if(e!=="default"){var n=pt(e);b(i,function(o,a){p(a,{toolbar:n[0],location:n[1]})})}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=ht.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=l("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":f(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":z()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return T(this._input())},content:function(){return this._popup?this._popup.content():null}});w("dxDropDownEditor",X);var W=p({},ct,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new dt({store:new _t(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=L(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=L(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new v;return t=this._unwrappedValue(t),f(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(i){this._isValueEquals(this._valueGetter(i),t)?e.resolve(i):e.reject()}.bind(this)).fail(function(){e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;(t=this._loadValueDeferred)===null||t===void 0||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=(e=t)!==null&&e!==void 0?e:this._getCurrentValue(),t&&this._dataSource&&this._valueGetterExpr()==="this"&&(t=this._getItemKey(t)),F.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var i={},n=0,o=e.length;n<o;n++)i[e[n]]=t[e[n]];return i}return e&&typeof t=="object"&&(t=t[e]),t},_isValueEquals:function(t,e){var i=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&i&&f(t)&&f(e)&&(Array.isArray(i)?n=this._compareByCompositeKey(t,e,i):n=this._compareByKey(t,e,i)),n},_compareByCompositeKey:function(t,e,i){var n=Q;if(!n(t)||!n(e))return!1;for(var o=0,a=i.length;o<a;o++)if(t[i[o]]!==e[i[o]])return!1;return!0},_compareByKey:function(t,e,i){var n=F.unwrap,o=S(n(t[i]),t),a=S(n(e[i]),e);return this._compareValues(o,a)},_compareValues:function(t,e){return k(t,!0)===k(e,!0)},_initDynamicTemplates:_,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=ft(t)&&t!=="this"||mt(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),K=bt(),qt=".dx-list-item",Ut="dxListItemData",Qt="dx-dropdownlist-popup-wrapper",Xt="input",Yt=["startswith","contains","endwith","notcontains"],G=x.real().platform!=="android",Y=X.inherit({_supportedKeys:function(){var t=this.callBase();return p({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var i=l(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}t.tab.apply(this,arguments)},space:_,home:_,end:_})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return p(this.callBase(),p(W._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:E.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:_,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),p(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new vt("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new gt(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[i]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return b(t,function(n,o){if(this._isValueEquals(o,e))return i=n,!1}.bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();u.off(t,"mouseup"),u.on(t,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&l(t);if(e&&e.length&&!Ct(e.get(0))){var i=[].slice.call(e.parents());i.unshift(e.get(0)),b(i,function(n,o){if(o===l("body").get(0))return!1;if(K.getComputedStyle(o).overflowY==="hidden")return this._$customBoundaryContainer=l(o),!1}.bind(this))}},_popupWrapperClass:function(){return Qt},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var i,n;return e&&typeof t!="object"&&(e.itemByValue||(e.itemByValue={},i=this._getPlainItems(),i.forEach(function(o){e.itemByValue[this._valueGetter(o)]=o},this)),n=e.itemByValue[t]),n||(i=this._getPlainItems(),n=Et(i,function(o){return this._isValueEquals(this._valueGetter(o),t)}.bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return i!==void 0?new v().resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_updateActiveDescendant(){var t,e=this.option("opened"),i=(t=this._list)===null||t===void 0?void 0:t.getFocusedItemId(),n=l("#".concat(i)).length>0,o=e&&n&&i;this.setAria({activedescendant:o||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",S(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,i){var n=l(i),o=this._valueGetter(n.data(Ut)),a=this._isSelectedValue(o,t);a?this._list.selectItem(n):this._list.unselectItem(n)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(!Yt.includes(e))throw q.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(qt):l()},_popupConfig:function(){return p(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+new U()._value;var t=this._$list=l("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,St,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=m("mousedown","dxDropDownList");u.off(this._$list,t),u.on(this._$list,t,e=>e.preventDefault())},_getControlsAria(){return this._list&&this._listId},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return x.real().deviceType==="desktop"},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:_,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var t=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return m(Xt,this.NAME+"Search")},_getCompositionStartEvent:function(){return m("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return m("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return m("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),u.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(u.on(this._input(),this._getSearchEvent(),t=>{this._searchHandler(t)}),G&&(u.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),u.on(this._input(),this._getCompositionEndEvent(),t=>{this._isTextCompositionInProgress(void 0),this._searchHandler(t,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){u.off(this._input(),this._getSearchEvent()),u.off(this._input(),this._getSetFocusPolicyEvent()),G&&(u.off(this._input(),this._getCompositionStartEvent()),u.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(arguments.length)this._isTextComposition=t;else return this._isTextComposition},_searchHandler:function(t,e){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(e)},i)):this._searchDataSource(e)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t))},_clearFilter:function(){var t=this._dataController;t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&this._dimensionChanged())}},_dataSourceChangedHandler:function(t){this._dataController.pageIndex()===0?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataController,e=t.items()||[],i=e.length,n=this._needPassDataSourceToList();return!!(n&&i)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){var t=this._dataController,e=t.pageIndex(),i=f(this._pageIndex)&&e<=this._pageIndex||t.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,i},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,i=t.offset().top-(e?e.offset().top:0),n=O(K),o=e?Math.min(O(e),n):n,a=Math.max(i,o-i-O(t));return Math.min(.5*o,a)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return this.option("valueExpr")==="this"&&Q(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(W,It);w("dxDropDownList",Y);var Jt=".dx-state-disabled",Zt="dx-selectbox",te="dx-selectbox-popup",ee="dx-selectbox-container",j="dx-selectbox-popup-wrapper",J=Y.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),i=function(o){var a=this._isEditable();a?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(o.preventDefault(),this.reset()),this._savedTextRemoveEvent=o,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return p({},e,{tab:function(){this.option("opened")&&this.option("applyValueMode")==="instantly"&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(o){if(e.upArrow&&e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},downArrow:function(o){if(e.downArrow&&e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var o=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),o??!0},enter:function(o){var a=this.option("opened"),h=this._input().val().trim(),g=h&&this._list&&!this._list.option("focusedElement");if(!h&&f(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(o),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return o.preventDefault(),g&&(a&&this._toggleOpenState(),this._valueChangeEventHandler(o)),a;if(e.enter&&e.enter.apply(this,arguments))return a}},space:function(o){var a=this.option("opened"),h=this.option("searchEnabled"),g=this.option("acceptCustomValue");if(!(!a||h||g))return o.preventDefault(),this._valueChangeEventHandler(o),!0},backspace:i,del:i})},_getDefaultOptions:function(){return p(this.callBase(),{placeholder:E.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){f(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(Zt),this._renderTooltip(),this.callBase(),this._$container.addClass(ee)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(te),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+j},_setDeprecatedOptions(){this.callBase(),p(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t,e=this._searchValue();if(!e){this._focusListElement(null);return}var{items:i,selectedItem:n}=this.option(),o=this._list._itemElements(),a=(t=i==null?void 0:i.indexOf(n))!==null&&t!==void 0?t:-1,h=a!==-1&&!this._isCustomItemSelected()?o.eq(a):null;this._focusListElement(h)},_renderFocusedElement:function(){if(this._list){var t=this._searchValue();if(!t||this.option("acceptCustomValue")){this._focusListElement(null);return}var e=this._list._itemElements(),i=e.not(Jt).eq(0);this._focusListElement(i)}},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",T(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var t=this._dataController.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),new v().resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),new v().resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),i=this._valueGetter(e);this._setValue(i)},_setNextValue:function(t){var e=this._dataController.isLoaded()?new v().resolve():this._dataController.load();e.done(function(){var i=this._getSelectedIndex(),n=this._dataController.pageSize(),o=this._dataController.isLastPage(),a=i===this._items().length-1;this._saveValueChangeEvent(t);var h=yt(t)==="downArrow"?1:-1;n&&!o&&a&&h>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,h))):this._setNextItem(h)}.bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&t===void 0;this.callBase(e?null:t),!e&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!f(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=p(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&p(t,{showSelectionControls:!0,selectionByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,i=l(e.option("focusedElement")),n=e._getItemData(i);this._updateField(n)}},_updateField:function(t){var e=this._getTemplateByOption("fieldTemplate");if(!(e&&this.option("fieldTemplate"))){var i=this._displayGetter(t);this.option("text",i),this._renderDisplayText(i);return}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):_},_selectionChangeHandler:function(t){b(t.addedItems||[],function(e,i){this._setValue(this._valueGetter(i))}.bind(this))},_getActualSearchValue:function(){return this._dataController.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),!t&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataController.getDataSource()){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(t===null)return!1;var e=this._displayGetter(t),i=e?String(e):"",n=this._searchValue();return i===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var{acceptCustomValue:e,text:i,selectedItem:n}=this.option();if(e){!t&&!this._isValueChanging&&(this._updateField(n??this._createCustomItem(i)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always(function(o){var a=S(o,n);this._setSelectedItem(a),this._updateField(a),this._clearFilter()}.bind(this))}.bind(this))},_valueChangeEventIncludesBlur:function(){var t=this.option(this._getValueChangeEventOptionName());return t.includes("blur")},_isPreventedFocusOutEvent:function(t){return this._preventNestedFocusEvent(t)||this._valueChangeEventIncludesBlur()},_focusOutHandler:function(t){if(!this._isPreventedFocusOutEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var{searchEnabled:e}=this.option(),i=this._isOverlayNestedTarget(t==null?void 0:t.relatedTarget),n=this._wasSearch()&&e&&!i;if(n){var o,a=(o=this._popup)===null||o===void 0?void 0:o._hideAnimationProcessing;this._clearSearchTimer(),a?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!l(t).closest(".".concat(j)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=Ot.getActiveElement(this.element());return this.callBase()&&l(t).closest(this._input()).length>0},_getValueChangeEventOptionName:function(){return"customItemCreateEvent"},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&l(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement(l(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var i=this,n=new v;return this.callBase(t,e).done(function(o){n.resolve(o)}.bind(this)).fail(function(o){if(!(o!=null&&o.shouldSkipCallback)){var a=i.option("selectedItem");i.option("acceptCustomValue")&&t===i._valueGetter(a)?n.resolve(a):n.reject()}}.bind(this)),n.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),i=this._displayGetter(t);return!i||e!==i.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},i=this._customItemCreatingAction(e),n=S(i,e.customItem);return f(i)&&R.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(t){var e=this._searchValue(),i=this._createCustomItem(e);if(this._saveValueChangeEvent(t),i===void 0)throw this._renderValue(),R.Error("E0121");Tt(i)?Dt(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)),this._isValueChanging=!1)},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered:function(t){this.callBase(),t!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,i=t.selectionStart===0&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,o=e===t.selectionEnd;return this._wasSearch()&&n&&!i&&o&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution:function(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),i=e.val().length;if(i!==0){var n=e.get(0),o=this._displayGetter(t).toString();n.value=o,this._caret({start:i,end:o.length})}}},_dispose:function(){this._renderInputValueAsync=_,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});w("dxSelectBox",J);const ie=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),ne=xt(ie);/*!
 * devextreme-react
 * Version: 22.2.3
 * Build date: Mon Dec 05 2022
 *
 * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var c=H&&H.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},t(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});r.ToolbarItem=r.To=r.Show=r.Position=r.Options=r.Offset=r.My=r.Item=r.Hide=r.From=r.DropDownOptions=r.Collision=r.Button=r.BoundaryOffset=r.At=r.Animation=Z=r.SelectBox=void 0;var oe=ne,s=wt,se=Bt,d=Pt,B=function(t){c(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i._WidgetClass=oe.default,i.subscribableOptions=["opened","value"],i.independentEvents=["onChange","onClosed","onContentReady","onCopy","onCustomItemCreating","onCut","onDisposing","onEnterKey","onFocusIn","onFocusOut","onInitialized","onInput","onItemClick","onKeyDown","onKeyUp","onOpened","onPaste","onValueChanged"],i._defaults={defaultOpened:"opened",defaultValue:"value"},i._expectedChildren={button:{optionName:"buttons",isCollectionItem:!0},dropDownOptions:{optionName:"dropDownOptions",isCollectionItem:!1},item:{optionName:"items",isCollectionItem:!0}},i._templateProps=[{tmplOption:"dropDownButtonTemplate",render:"dropDownButtonRender",component:"dropDownButtonComponent",keyFn:"dropDownButtonKeyFn"},{tmplOption:"fieldTemplate",render:"fieldRender",component:"fieldComponent",keyFn:"fieldKeyFn"},{tmplOption:"groupTemplate",render:"groupRender",component:"groupComponent",keyFn:"groupKeyFn"},{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent",keyFn:"itemKeyFn"}],i}return Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(se.Component),Z=r.SelectBox=B;B.propTypes={acceptCustomValue:s.bool,accessKey:s.string,activeStateEnabled:s.bool,buttons:s.array,customItemCreateEvent:s.string,deferRendering:s.bool,disabled:s.bool,displayExpr:s.oneOfType([s.func,s.string]),displayValue:s.string,dropDownOptions:s.object,elementAttr:s.object,focusStateEnabled:s.bool,grouped:s.bool,height:s.oneOfType([s.func,s.number,s.string]),hint:s.string,hoverStateEnabled:s.bool,isValid:s.bool,items:s.array,label:s.string,labelMode:s.oneOfType([s.string,s.oneOf(["static","floating","hidden"])]),maxLength:s.oneOfType([s.number,s.string]),minSearchLength:s.number,name:s.string,noDataText:s.string,onChange:s.func,onClosed:s.func,onContentReady:s.func,onCopy:s.func,onCustomItemCreating:s.func,onCut:s.func,onDisposing:s.func,onEnterKey:s.func,onFocusIn:s.func,onFocusOut:s.func,onInitialized:s.func,onInput:s.func,onItemClick:s.func,onKeyDown:s.func,onKeyUp:s.func,onOpened:s.func,onOptionChanged:s.func,onPaste:s.func,onSelectionChanged:s.func,onValueChanged:s.func,opened:s.bool,openOnFieldClick:s.bool,placeholder:s.string,readOnly:s.bool,rtlEnabled:s.bool,searchEnabled:s.bool,searchExpr:s.oneOfType([s.array,s.func,s.string]),searchMode:s.oneOfType([s.string,s.oneOf(["contains","startswith"])]),searchTimeout:s.number,showClearButton:s.bool,showDataBeforeSearch:s.bool,showDropDownButton:s.bool,showSelectionControls:s.bool,spellcheck:s.bool,stylingMode:s.oneOfType([s.string,s.oneOf(["outlined","underlined","filled"])]),tabIndex:s.number,text:s.string,useItemTextAsTitle:s.bool,validationErrors:s.array,validationMessageMode:s.oneOfType([s.string,s.oneOf(["always","auto"])]),validationMessagePosition:s.oneOfType([s.string,s.oneOf(["bottom","left","right","top","auto"])]),validationStatus:s.oneOfType([s.string,s.oneOf(["valid","invalid","pending"])]),valueChangeEvent:s.string,valueExpr:s.oneOfType([s.func,s.string]),visible:s.bool,width:s.oneOfType([s.func,s.number,s.string]),wrapItemText:s.bool};var ae=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="animation",e.ExpectedChildren={hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}},e}(d.default);r.Animation=ae;var re=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="at",e}(d.default);r.At=re;var le=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="boundaryOffset",e}(d.default);r.BoundaryOffset=le;var ue=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="buttons",e.IsCollectionItem=!0,e.ExpectedChildren={options:{optionName:"options",isCollectionItem:!1}},e}(d.default);r.Button=ue;var pe=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="collision",e}(d.default);r.Collision=pe;var he=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="dropDownOptions",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.ExpectedChildren={animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e}(d.default);r.DropDownOptions=he;var ce=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="from",e.ExpectedChildren={position:{optionName:"position",isCollectionItem:!1}},e}(d.default);r.From=ce;var de=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="hide",e.ExpectedChildren={from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}},e}(d.default);r.Hide=de;var _e=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(d.default);r.Item=_e;var fe=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="my",e}(d.default);r.My=fe;var me=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="offset",e}(d.default);r.Offset=me;var ve=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="options",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(d.default);r.Options=ve;var ge=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="position",e}(d.default);r.Position=ge;var Ce=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="show",e}(d.default);r.Show=Ce;var Ee=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="to",e}(d.default);r.To=Ee;var Se=function(t){c(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.OptionName="toolbarItems",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent",keyFn:"menuItemKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(d.default);r.ToolbarItem=Se;r.default=B;function xe(){const t=new Vt({store:{type:"array",data:At.filter(o=>o.categoria),key:"rota"},group:"categoria"}),e=Lt();function i(o){setTimeout(()=>{o.component.focus()},100)}function n(o){const a="/"+o.selectedItem.rota;console.log(a),e(a)}return D(Ie,{children:[C(be,{src:Ft,alt:"Logo"}),C(ye,{dataSource:t,displayExpr:"titulo",grouped:!0,itemRender:Oe,noDataText:"Sem dados",onContentReady:i,onSelectionChanged:o=>n(o),placeholder:"Pesquisar",searchEnabled:!0,searchExpr:["rota","titulo","categoria"],valueExpr:"rota"})]})}const Ie=y("div",{alignItems:"center",display:"flex",flex:"1 1 auto",flexDirection:"column",height:"100%",width:"100%"}),be=y("img",{marginBottom:64,marginTop:64,width:480}),ye=y(Z,{width:480});function Oe(t){return D(Te,{children:[C("img",{src:t.icone,alt:t.titulo,height:24}),D("div",{children:[C("b",{children:t.titulo}),C("p",{children:t.descricao})]})]})}const Te=y("div",{display:"flex",alignItems:"center",gap:"8px",width:"100%","> div":{whiteSpace:"normal"}});export{xe as PaginaInicial};
